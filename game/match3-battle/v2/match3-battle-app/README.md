# å¤šäººå®æ—¶å¯¹æˆ˜æ¶ˆæ¶ˆä¹ App

ä¸€ä¸ªåŸºäº WebSocket çš„å®æ—¶å¤šäººå¯¹æˆ˜æ¶ˆæ¶ˆä¹æ¸¸æˆåº”ç”¨ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ® æ ¸å¿ƒç©æ³•
- **æ ‡å‡†ä¸‰æ¶ˆé€»è¾‘**ï¼šäº¤æ¢ç›¸é‚»å®çŸ³ï¼Œæ¶ˆé™¤ä¸‰ä¸ªæˆ–ä»¥ä¸Šç›¸åŒé¢œè‰²çš„å®çŸ³
- **è‡ªåŠ¨æ‰è½å¡«å……**ï¼šæ¶ˆé™¤åè‡ªåŠ¨å¡«å……æ–°å®çŸ³
- **è¿é”æ¶ˆé™¤**ï¼šæ”¯æŒè¿ç»­æ¶ˆé™¤è®¡åˆ†
- **8x8 æ¸¸æˆæ£‹ç›˜**ï¼š6 ç§ä¸åŒé¢œè‰²çš„å®çŸ³

### ğŸŒ è”æœºå¯¹æˆ˜
- **1v1 å®æ—¶å¯¹æˆ˜**ï¼šé€šè¿‡ WebSocket å®æ—¶åŒæ­¥æ¸¸æˆçŠ¶æ€
- **60ç§’å€’è®¡æ—¶**ï¼šé™æ—¶å¯¹æˆ˜æ¨¡å¼
- **å®æ—¶åˆ†æ•°æ˜¾ç¤º**ï¼šæŸ¥çœ‹è‡ªå·±å’Œå¯¹æ‰‹çš„å®æ—¶å¾—åˆ†
- **èƒœè´Ÿåˆ¤å®š**ï¼šæ¸¸æˆç»“æŸåè‡ªåŠ¨åˆ¤å®šèƒœè´Ÿ

### ğŸ  æˆ¿é—´ç³»ç»Ÿ
- **åˆ›å»ºæˆ¿é—´**ï¼šç”Ÿæˆ 6 ä½æˆ¿é—´å·ï¼Œé‚€è¯·å¥½å‹åŠ å…¥
- **åŠ å…¥æˆ¿é—´**ï¼šè¾“å…¥æˆ¿é—´å·åŠ å…¥æŒ‡å®šæˆ¿é—´
- **éšæœºåŒ¹é…**ï¼šè‡ªåŠ¨åŒ¹é…åœ¨çº¿ç©å®¶

### ğŸ’¬ å³æ—¶é€šè®¯
- **æ–‡å­—èŠå¤©**ï¼šæˆ¿é—´å†…å®æ—¶æ–‡å­—äº¤æµ
- **å¿«æ·è¡¨æƒ…**ï¼š7 ä¸ªå¸¸ç”¨è¡¨æƒ…åŒ…å¿«é€Ÿå‘é€
- **æ¶ˆæ¯æ°”æ³¡**ï¼šåŒºåˆ†è‡ªå·±å’Œå¯¹æ‰‹çš„æ¶ˆæ¯

## æŠ€æœ¯æ ˆ

### åç«¯
- **Node.js**ï¼šè¿è¡Œæ—¶ç¯å¢ƒ
- **Express**ï¼šWeb æ¡†æ¶
- **WebSocket (ws)**ï¼šå®æ—¶é€šä¿¡

### å‰ç«¯
- **åŸç”Ÿ HTML/CSS/JavaScript**ï¼šæ— æ¡†æ¶ä¾èµ–
- **WebSocket API**ï¼šå®¢æˆ·ç«¯å®æ—¶é€šä¿¡
- **å“åº”å¼è®¾è®¡**ï¼šé€‚é…ç§»åŠ¨è®¾å¤‡

## å®‰è£…å’Œè¿è¡Œ

### å‰ç½®è¦æ±‚
- Node.js 14.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- npm æˆ– yarn

### å®‰è£…æ­¥éª¤

1. **å®‰è£…æœåŠ¡å™¨ä¾èµ–**
```bash
cd server
npm install
```

2. **å¯åŠ¨æœåŠ¡å™¨**
```bash
npm start
```

æœåŠ¡å™¨å°†åœ¨ `http://localhost:3000` å¯åŠ¨ã€‚

3. **è®¿é—®åº”ç”¨**

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `http://localhost:3000` å³å¯å¼€å§‹æ¸¸æˆã€‚

### å¼€å‘æ¨¡å¼

ä½¿ç”¨ nodemon è¿›è¡Œçƒ­é‡è½½å¼€å‘ï¼š

```bash
cd server
npm run dev
```

## é¡¹ç›®ç»“æ„

```
match3-battle-app/
â”œâ”€â”€ server/
â”‚   â”œâ”€â”€ server.js          # æœåŠ¡å™¨ä¸»æ–‡ä»¶
â”‚   â””â”€â”€ package.json       # æœåŠ¡å™¨ä¾èµ–é…ç½®
â”œâ”€â”€ client/
â”‚   â”œâ”€â”€ index.html         # ä¸»é¡µé¢
â”‚   â””â”€â”€ game.js           # æ¸¸æˆé€»è¾‘å’Œ WebSocket å®¢æˆ·ç«¯
â””â”€â”€ README.md             # é¡¹ç›®æ–‡æ¡£
```

## æ¸¸æˆç©æ³•

### åˆ›å»ºæˆ¿é—´æ¨¡å¼
1. ç‚¹å‡»ã€Œåˆ›å»ºæˆ¿é—´ã€
2. è¾“å…¥æ˜µç§°
3. è·å– 6 ä½æˆ¿é—´å·
4. åˆ†äº«æˆ¿é—´å·ç»™å¥½å‹
5. ç­‰å¾…å¥½å‹åŠ å…¥
6. æˆ¿ä¸»ç‚¹å‡»ã€Œå¼€å§‹æ¸¸æˆã€

### åŠ å…¥æˆ¿é—´æ¨¡å¼
1. ç‚¹å‡»ã€ŒåŠ å…¥æˆ¿é—´ã€
2. è¾“å…¥æˆ¿é—´å·å’Œæ˜µç§°
3. ç­‰å¾…æˆ¿ä¸»å¼€å§‹æ¸¸æˆ

### éšæœºåŒ¹é…æ¨¡å¼
1. ç‚¹å‡»ã€ŒéšæœºåŒ¹é…ã€
2. ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆæ˜µç§°
3. ç­‰å¾…ç³»ç»ŸåŒ¹é…å¯¹æ‰‹
4. åŒ¹é…æˆåŠŸåè‡ªåŠ¨è¿›å…¥æˆ¿é—´

### æ¸¸æˆè§„åˆ™
- **æ¶ˆé™¤è§„åˆ™**ï¼šç‚¹å‡»é€‰æ‹©ä¸€ä¸ªå®çŸ³ï¼Œå†ç‚¹å‡»ç›¸é‚»çš„å®çŸ³è¿›è¡Œäº¤æ¢
- **æœ‰æ•ˆæ¶ˆé™¤**ï¼šæ¨ªå‘æˆ–çºµå‘ä¸‰ä¸ªæˆ–ä»¥ä¸Šç›¸åŒé¢œè‰²çš„å®çŸ³ä¼šè¢«æ¶ˆé™¤
- **å¾—åˆ†è§„åˆ™**ï¼šæ¯æ¶ˆé™¤ä¸€ä¸ªå®çŸ³å¾— 10 åˆ†
- **æ¸¸æˆæ—¶é•¿**ï¼š60 ç§’å€’è®¡æ—¶
- **èƒœè´Ÿåˆ¤å®š**ï¼šæ—¶é—´ç»“æŸæ—¶åˆ†æ•°é«˜è€…è·èƒœ

## WebSocket æ¶ˆæ¯åè®®

### å®¢æˆ·ç«¯ -> æœåŠ¡å™¨

| æ¶ˆæ¯ç±»å‹ | è¯´æ˜ | å‚æ•° |
|---------|------|------|
| `create_room` | åˆ›å»ºæˆ¿é—´ | `nickname` |
| `join_room` | åŠ å…¥æˆ¿é—´ | `roomCode`, `nickname` |
| `random_match` | éšæœºåŒ¹é… | `nickname` |
| `leave_room` | ç¦»å¼€æˆ¿é—´ | - |
| `start_game` | å¼€å§‹æ¸¸æˆ | - |
| `score_update` | æ›´æ–°åˆ†æ•° | `score` |
| `chat` | å‘é€èŠå¤©æ¶ˆæ¯ | `message` |
| `game_end` | æ¸¸æˆç»“æŸ | `score` |

### æœåŠ¡å™¨ -> å®¢æˆ·ç«¯

| æ¶ˆæ¯ç±»å‹ | è¯´æ˜ | å‚æ•° |
|---------|------|------|
| `room_created` | æˆ¿é—´åˆ›å»ºæˆåŠŸ | `roomCode`, `playerName`, `isHost` |
| `room_joined` | åŠ å…¥æˆ¿é—´æˆåŠŸ | `roomCode`, `playerName`, `opponentName`, `isHost` |
| `player_joined` | æœ‰ç©å®¶åŠ å…¥ | `playerName` |
| `match_found` | åŒ¹é…æˆåŠŸ | `roomCode`, `opponentName`, `isHost` |
| `matching` | åŒ¹é…ä¸­ | `message` |
| `player_left` | ç©å®¶ç¦»å¼€ | `playerName` |
| `game_start` | æ¸¸æˆå¼€å§‹ | `players` |
| `score_update` | åˆ†æ•°æ›´æ–° | `playerName`, `score` |
| `chat` | èŠå¤©æ¶ˆæ¯ | `sender`, `message`, `timestamp` |
| `game_end` | æ¸¸æˆç»“æŸ | `scores` |
| `error` | é”™è¯¯æ¶ˆæ¯ | `message` |

## éƒ¨ç½²å»ºè®®

### æœ¬åœ°éƒ¨ç½²
ç›´æ¥æŒ‰ç…§å®‰è£…æ­¥éª¤è¿è¡Œå³å¯ã€‚

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
1. ä½¿ç”¨ PM2 ç®¡ç†è¿›ç¨‹
2. é…ç½®åå‘ä»£ç†ï¼ˆNginxï¼‰
3. å¯ç”¨ HTTPSï¼ˆä½¿ç”¨ Let's Encryptï¼‰
4. é…ç½®é˜²ç«å¢™è§„åˆ™

### äº‘å¹³å°éƒ¨ç½²
æ”¯æŒéƒ¨ç½²åˆ°ä»¥ä¸‹å¹³å°ï¼š
- Heroku
- AWS EC2
- Google Cloud Platform
- Azure
- Digital Ocean

## æ€§èƒ½ä¼˜åŒ–

- WebSocket è¿æ¥æ± ç®¡ç†
- æˆ¿é—´è‡ªåŠ¨æ¸…ç†ï¼ˆ30 åˆ†é’Ÿæœªæ´»åŠ¨ï¼‰
- å¿ƒè·³æ£€æµ‹å’Œè‡ªåŠ¨é‡è¿
- æ¶ˆæ¯é˜Ÿåˆ—ç¼“å†²

## æœªæ¥æ‰©å±•

- [ ] æ·»åŠ é“å…·ç³»ç»Ÿ
- [ ] æ’è¡Œæ¦œåŠŸèƒ½
- [ ] å¥½å‹ç³»ç»Ÿ
- [ ] å¤šäººæˆ¿é—´ï¼ˆæ”¯æŒ 4 äººå¯¹æˆ˜ï¼‰
- [ ] è§‚æˆ˜æ¨¡å¼
- [ ] å½•åƒå›æ”¾
- [ ] æˆå°±ç³»ç»Ÿ
- [ ] çš®è‚¤å•†åŸ

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ GitHub Issues è”ç³»ã€‚
