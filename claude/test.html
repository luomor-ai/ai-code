<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºèƒ½å’–å•¡æœº</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Noto+Sans+SC:wght@300;400;500;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background: #0a0a0a;
            overflow: hidden;
            width: 100vw;
            height: 100vh;
            user-select: none;
        }
        
        .orbitron {
            font-family: 'Orbitron', sans-serif;
        }
        
        /* å¾…æœºå±å¹•åŠ¨ç”» */
        .standby-pulse {
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }
        
        /* é¥®å“æ»‘åŠ¨å®¹å™¨ */
        .drinks-container {
            display: flex;
            gap: 2rem;
            transition: transform 0.3s ease-out;
        }
        
        .drink-card {
            min-width: 200px;
            height: 280px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .drink-card:hover {
            transform: translateY(-8px) scale(1.05);
        }
        
        .drink-card.selected {
            transform: scale(1.1);
        }
        
        /* åœ†åœˆåŠ¨ç”» */
        .circle-container {
            position: relative;
            width: 140px;
            height: 140px;
        }
        
        .circle {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 3px solid #2a2a2a;
            background: linear-gradient(135deg, #1a1a1a 0%, #0f0f0f 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .circle:hover {
            border-color: #d4a574;
            box-shadow: 0 0 30px rgba(212, 165, 116, 0.3);
            transform: scale(1.05);
        }
        
        .circle.active {
            border-color: #d4a574;
            box-shadow: 0 0 40px rgba(212, 165, 116, 0.5);
        }
        
        .circle.working::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(
                transparent 0deg,
                transparent 270deg,
                #d4a574 360deg
            );
            animation: rotate 2s linear infinite;
        }
        
        @keyframes rotate {
            100% { transform: rotate(360deg); }
        }
        
        .circle.completed {
            border-color: #4ade80;
            box-shadow: 0 0 40px rgba(74, 222, 128, 0.5);
        }
        
        .completed-badge {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            background: #4ade80;
            color: #0a0a0a;
            padding: 4px 16px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 700;
            letter-spacing: 1px;
            animation: slideDown 0.3s ease;
        }
        
        @keyframes slideDown {
            from {
                top: -30px;
                opacity: 0;
            }
            to {
                top: -15px;
                opacity: 1;
            }
        }
        
        /* æ¨¡æ€æ¡† */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(4px);
            z-index: 50;
            animation: fadeIn 0.2s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .modal-content {
            animation: slideUp 0.3s ease;
        }
        
        @keyframes slideUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        /* æ»‘å—æ ·å¼ */
        input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: linear-gradient(to right, #d4a574 0%, #2a2a2a 0%);
            outline: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #d4a574;
            cursor: pointer;
            box-shadow: 0 0 15px rgba(212, 165, 116, 0.5);
            transition: all 0.2s ease;
        }
        
        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 0 25px rgba(212, 165, 116, 0.8);
        }
        
        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #d4a574;
            cursor: pointer;
            border: none;
            box-shadow: 0 0 15px rgba(212, 165, 116, 0.5);
        }
        
        /* æŒ‰é’®æ ·å¼ */
        .btn {
            padding: 10px 20px;
            border-radius: 8px;
            border: 2px solid #2a2a2a;
            background: #1a1a1a;
            color: #888;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .btn:hover {
            border-color: #d4a574;
            color: #d4a574;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(212, 165, 116, 0.2);
        }
        
        .btn.active {
            border-color: #d4a574;
            background: rgba(212, 165, 116, 0.15);
            color: #d4a574;
            box-shadow: 0 0 20px rgba(212, 165, 116, 0.3);
        }
        
        /* æ»šåŠ¨æ¡æ ·å¼ */
        .drinks-scroll::-webkit-scrollbar {
            display: none;
        }
        
        /* å’–å•¡è±†è£…é¥° */
        .coffee-beans {
            position: absolute;
            opacity: 0.05;
            font-size: 200px;
            pointer-events: none;
        }
    </style>
</head>
<body class="bg-black text-white">
    <!-- å¾…æœºå±å¹• -->
    <div id="standbyScreen" class="fixed inset-0 flex items-center justify-center bg-gradient-to-br from-black via-neutral-900 to-black z-50">
        <div class="text-center standby-pulse cursor-pointer" onclick="wakeUp()">
            <svg class="w-64 h-64 mx-auto mb-8" viewBox="0 0 200 200" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="100" cy="100" r="80" stroke="#d4a574" stroke-width="3" fill="none" opacity="0.3"/>
                <path d="M100 40 C120 40, 140 55, 140 80 C140 95, 130 105, 120 115 L100 135 L80 115 C70 105, 60 95, 60 80 C60 55, 80 40, 100 40 Z" fill="#d4a574" opacity="0.8"/>
                <ellipse cx="85" cy="75" rx="8" ry="12" fill="#1a1a1a" opacity="0.6"/>
                <ellipse cx="115" cy="75" rx="8" ry="12" fill="#1a1a1a" opacity="0.6"/>
                <path d="M70 150 Q100 160, 130 150" stroke="#d4a574" stroke-width="3" fill="none" stroke-linecap="round"/>
            </svg>
            <h1 class="orbitron text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-amber-300 via-amber-500 to-amber-300 mb-4">
                COFFEE MASTER
            </h1>
            <p class="text-xl text-neutral-400 tracking-widest">è½»è§¦å±å¹•å”¤é†’</p>
        </div>
        <div class="coffee-beans" style="top: 10%; left: 5%; transform: rotate(-20deg);">â˜•</div>
        <div class="coffee-beans" style="bottom: 15%; right: 8%; transform: rotate(30deg);">â˜•</div>
    </div>

    <!-- é¥®å“é€‰æ‹©é¡µé¢ -->
    <div id="drinksScreen" class="hidden fixed inset-0 bg-gradient-to-br from-neutral-900 via-black to-neutral-900">
        <div class="h-full flex flex-col p-8">
            <!-- å¤´éƒ¨ -->
            <div class="flex items-center justify-between mb-8">
                <h2 class="orbitron text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-amber-600">
                    é€‰æ‹©æ‚¨çš„é¥®å“
                </h2>
                <button onclick="goStandby()" class="text-neutral-500 hover:text-amber-500 transition-colors text-xl">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            
            <!-- é¥®å“æ»šåŠ¨åŒºåŸŸ -->
            <div class="flex-1 overflow-x-auto drinks-scroll relative">
                <div class="drinks-container h-full items-center px-8">
                    <!-- ç¾å¼å’–å•¡ -->
                    <div class="drink-card" onclick="selectDrink('ç¾å¼å’–å•¡')">
                        <div class="h-full bg-gradient-to-br from-neutral-800 to-neutral-900 rounded-3xl p-6 border-2 border-neutral-700 hover:border-amber-500 transition-all relative overflow-hidden">
                            <div class="absolute inset-0 bg-gradient-to-t from-amber-900/20 to-transparent"></div>
                            <div class="relative z-10">
                                <div class="text-7xl mb-4 text-center">â˜•</div>
                                <h3 class="orbitron text-2xl font-bold text-amber-400 text-center mb-2">Americano</h3>
                                <p class="text-neutral-400 text-center text-sm">æµ“éƒç¾å¼</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- æ‹¿é“ -->
                    <div class="drink-card" onclick="selectDrink('æ‹¿é“')">
                        <div class="h-full bg-gradient-to-br from-neutral-800 to-neutral-900 rounded-3xl p-6 border-2 border-neutral-700 hover:border-amber-500 transition-all relative overflow-hidden">
                            <div class="absolute inset-0 bg-gradient-to-t from-amber-800/20 to-transparent"></div>
                            <div class="relative z-10">
                                <div class="text-7xl mb-4 text-center">ğŸ¥›</div>
                                <h3 class="orbitron text-2xl font-bold text-amber-400 text-center mb-2">Latte</h3>
                                <p class="text-neutral-400 text-center text-sm">ä¸æ»‘æ‹¿é“</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- å¡å¸ƒå¥‡è¯º -->
                    <div class="drink-card" onclick="selectDrink('å¡å¸ƒå¥‡è¯º')">
                        <div class="h-full bg-gradient-to-br from-neutral-800 to-neutral-900 rounded-3xl p-6 border-2 border-neutral-700 hover:border-amber-500 transition-all relative overflow-hidden">
                            <div class="absolute inset-0 bg-gradient-to-t from-amber-700/20 to-transparent"></div>
                            <div class="relative z-10">
                                <div class="text-7xl mb-4 text-center">â˜ï¸</div>
                                <h3 class="orbitron text-2xl font-bold text-amber-400 text-center mb-2">Cappuccino</h3>
                                <p class="text-neutral-400 text-center text-sm">ç»µå¯†å¥¶æ³¡</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- æµ“ç¼©å’–å•¡ -->
                    <div class="drink-card" onclick="selectDrink('æµ“ç¼©å’–å•¡')">
                        <div class="h-full bg-gradient-to-br from-neutral-800 to-neutral-900 rounded-3xl p-6 border-2 border-neutral-700 hover:border-amber-500 transition-all relative overflow-hidden">
                            <div class="absolute inset-0 bg-gradient-to-t from-red-900/20 to-transparent"></div>
                            <div class="relative z-10">
                                <div class="text-7xl mb-4 text-center">âš¡</div>
                                <h3 class="orbitron text-2xl font-bold text-amber-400 text-center mb-2">Espresso</h3>
                                <p class="text-neutral-400 text-center text-sm">çº¯ç²¹æµ“ç¼©</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- æ‘©å¡ -->
                    <div class="drink-card" onclick="selectDrink('æ‘©å¡')">
                        <div class="h-full bg-gradient-to-br from-neutral-800 to-neutral-900 rounded-3xl p-6 border-2 border-neutral-700 hover:border-amber-500 transition-all relative overflow-hidden">
                            <div class="absolute inset-0 bg-gradient-to-t from-orange-900/20 to-transparent"></div>
                            <div class="relative z-10">
                                <div class="text-7xl mb-4 text-center">ğŸ«</div>
                                <h3 class="orbitron text-2xl font-bold text-amber-400 text-center mb-2">Mocha</h3>
                                <p class="text-neutral-400 text-center text-sm">å·§å…‹åŠ›æ‘©å¡</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- å¯¼èˆªæŒ‡ç¤º -->
            <div class="flex justify-center gap-2 mt-6">
                <div class="w-3 h-3 rounded-full bg-amber-500"></div>
                <div class="w-3 h-3 rounded-full bg-neutral-700"></div>
                <div class="w-3 h-3 rounded-full bg-neutral-700"></div>
            </div>
        </div>
    </div>

    <!-- åˆ¶ä½œé¡µé¢ -->
    <div id="makingScreen" class="hidden fixed inset-0 bg-gradient-to-br from-neutral-900 via-black to-neutral-900">
        <div class="h-full flex flex-col p-8">
            <!-- å¤´éƒ¨ -->
            <div class="flex items-center justify-between mb-8">
                <div>
                    <h2 class="orbitron text-3xl font-black text-amber-400" id="selectedDrink">ç¾å¼å’–å•¡</h2>
                    <p class="text-neutral-500 text-sm mt-1">ç‚¹å‡»åœ†åœˆå¼€å§‹åˆ¶ä½œ</p>
                </div>
                <button onclick="backToDrinks()" class="text-neutral-500 hover:text-amber-500 transition-colors">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
                    </svg>
                </button>
            </div>
            
            <!-- ä¸‰ä¸ªåœ†åœˆåŒºåŸŸ -->
            <div class="flex-1 flex items-center justify-around px-12">
                <!-- ç ”ç£¨ -->
                <div class="flex flex-col items-center">
                    <div class="circle-container mb-6" onclick="startProcess('grind')">
                        <div id="grindCircle" class="circle">
                            <div class="relative z-10">
                                <div class="text-4xl mb-2">âš™ï¸</div>
                                <div class="orbitron text-sm font-bold text-neutral-400">ç ”ç£¨</div>
                            </div>
                        </div>
                        <div id="grindBadge" class="completed-badge hidden">å®Œæˆ</div>
                    </div>
                    <button onclick="showGrindModal()" class="btn">
                        ç ”ç£¨ç²—ç»†: <span id="grindLevel">ä¸­ç­‰</span>
                    </button>
                </div>
                
                <!-- èƒå– -->
                <div class="flex flex-col items-center">
                    <div class="circle-container mb-6" onclick="startProcess('extract')">
                        <div id="extractCircle" class="circle">
                            <div class="relative z-10">
                                <div class="text-4xl mb-2">ğŸ’§</div>
                                <div class="orbitron text-sm font-bold text-neutral-400">èƒå–</div>
                            </div>
                        </div>
                        <div id="extractBadge" class="completed-badge hidden">å®Œæˆ</div>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="showExtractModal('cups')" class="btn">
                            <span id="cupsType">å•æ¯</span>
                        </button>
                        <button onclick="showExtractModal('water')" class="btn">
                            <span id="waterTemp">çƒ­æ°´</span>
                        </button>
                    </div>
                </div>
                
                <!-- æ‰“æ³¡ -->
                <div class="flex flex-col items-center">
                    <div class="circle-container mb-6" onclick="startProcess('foam')">
                        <div id="foamCircle" class="circle">
                            <div class="relative z-10">
                                <div class="text-4xl mb-2">â˜ï¸</div>
                                <div class="orbitron text-sm font-bold text-neutral-400">æ‰“æ³¡</div>
                            </div>
                        </div>
                        <div id="foamBadge" class="completed-badge hidden">å®Œæˆ</div>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="showFoamModal('temp')" class="btn">
                            æ¸©åº¦: <span id="foamTemp">65Â°C</span>
                        </button>
                        <button onclick="showFoamModal('density')" class="btn">
                            ä¸°åº¦: <span id="foamDensity">æ ‡å‡†</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ç ”ç£¨ç²—ç»†æ¨¡æ€æ¡† -->
    <div id="grindModal" class="modal-overlay hidden" onclick="closeModal('grindModal')">
        <div class="flex items-center justify-center h-full" onclick="event.stopPropagation()">
            <div class="modal-content bg-neutral-900 rounded-2xl p-8 border-2 border-neutral-700 w-96">
                <h3 class="orbitron text-2xl font-bold text-amber-400 mb-6">ç ”ç£¨ç²—ç»†</h3>
                <div class="mb-6">
                    <input type="range" id="grindSlider" min="1" max="5" value="3" 
                           oninput="updateGrind(this.value)" class="w-full">
                    <div class="flex justify-between text-xs text-neutral-500 mt-2">
                        <span>æç»†</span>
                        <span>ç»†</span>
                        <span>ä¸­</span>
                        <span>ç²—</span>
                        <span>æç²—</span>
                    </div>
                </div>
                <button onclick="closeModal('grindModal')" class="btn active w-full">ç¡®è®¤</button>
            </div>
        </div>
    </div>

    <!-- èƒå–é€‰é¡¹æ¨¡æ€æ¡† -->
    <div id="extractModal" class="modal-overlay hidden" onclick="closeModal('extractModal')">
        <div class="flex items-center justify-center h-full" onclick="event.stopPropagation()">
            <div class="modal-content bg-neutral-900 rounded-2xl p-8 border-2 border-neutral-700 w-96">
                <h3 class="orbitron text-2xl font-bold text-amber-400 mb-6" id="extractModalTitle">èƒå–è®¾ç½®</h3>
                <div id="extractModalContent"></div>
                <button onclick="closeModal('extractModal')" class="btn active w-full mt-6">ç¡®è®¤</button>
            </div>
        </div>
    </div>

    <!-- æ‰“æ³¡é€‰é¡¹æ¨¡æ€æ¡† -->
    <div id="foamModal" class="modal-overlay hidden" onclick="closeModal('foamModal')">
        <div class="flex items-center justify-center h-full" onclick="event.stopPropagation()">
            <div class="modal-content bg-neutral-900 rounded-2xl p-8 border-2 border-neutral-700 w-96">
                <h3 class="orbitron text-2xl font-bold text-amber-400 mb-6" id="foamModalTitle">æ‰“æ³¡è®¾ç½®</h3>
                <div id="foamModalContent"></div>
                <button onclick="closeModal('foamModal')" class="btn active w-full mt-6">ç¡®è®¤</button>
            </div>
        </div>
    </div>

    <script>
        // çŠ¶æ€ç®¡ç†
        let grindLevel = 3;
        let cupsType = 'single';
        let waterTemp = 'hot';
        let foamTemp = 65;
        let foamDensity = 2;
        
        let processStatus = {
            grind: false,
            extract: false,
            foam: false
        };

        // å”¤é†’æœºå™¨
        function wakeUp() {
            document.getElementById('standbyScreen').classList.add('hidden');
            document.getElementById('drinksScreen').classList.remove('hidden');
        }

        // è¿”å›å¾…æœº
        function goStandby() {
            document.getElementById('drinksScreen').classList.add('hidden');
            document.getElementById('standbyScreen').classList.remove('hidden');
        }

        // é€‰æ‹©é¥®å“
        function selectDrink(drink) {
            document.getElementById('selectedDrink').textContent = drink;
            document.getElementById('drinksScreen').classList.add('hidden');
            document.getElementById('makingScreen').classList.remove('hidden');
            resetProcess();
        }

        // è¿”å›é¥®å“é€‰æ‹©
        function backToDrinks() {
            document.getElementById('makingScreen').classList.add('hidden');
            document.getElementById('drinksScreen').classList.remove('hidden');
        }

        // é‡ç½®åˆ¶ä½œæµç¨‹
        function resetProcess() {
            processStatus = { grind: false, extract: false, foam: false };
            ['grind', 'extract', 'foam'].forEach(type => {
                const circle = document.getElementById(type + 'Circle');
                const badge = document.getElementById(type + 'Badge');
                circle.classList.remove('working', 'completed', 'active');
                badge.classList.add('hidden');
            });
        }

        // å¼€å§‹åˆ¶ä½œæµç¨‹
        function startProcess(type) {
            if (processStatus[type]) return; // å·²å®Œæˆçš„ä¸å†å¤„ç†
            
            const circle = document.getElementById(type + 'Circle');
            const badge = document.getElementById(type + 'Badge');
            
            // å¼€å§‹å·¥ä½œ
            circle.classList.add('working', 'active');
            
            // æ¨¡æ‹Ÿåˆ¶ä½œæ—¶é—´
            setTimeout(() => {
                circle.classList.remove('working');
                circle.classList.add('completed');
                badge.classList.remove('hidden');
                processStatus[type] = true;
                
                // 3ç§’åç§»é™¤å®ŒæˆçŠ¶æ€
                setTimeout(() => {
                    circle.classList.remove('active');
                }, 3000);
            }, 3000);
        }

        // æ˜¾ç¤ºç ”ç£¨æ¨¡æ€æ¡†
        function showGrindModal() {
            const modal = document.getElementById('grindModal');
            modal.classList.remove('hidden');
            document.getElementById('grindSlider').value = grindLevel;
            updateSliderBackground('grindSlider');
        }

        // æ›´æ–°ç ”ç£¨ç­‰çº§
        function updateGrind(value) {
            grindLevel = parseInt(value);
            const levels = ['æç»†', 'ç»†', 'ä¸­ç­‰', 'ç²—', 'æç²—'];
            document.getElementById('grindLevel').textContent = levels[grindLevel - 1];
            updateSliderBackground('grindSlider');
        }

        // æ˜¾ç¤ºèƒå–æ¨¡æ€æ¡†
        function showExtractModal(type) {
            const modal = document.getElementById('extractModal');
            const title = document.getElementById('extractModalTitle');
            const content = document.getElementById('extractModalContent');
            
            if (type === 'cups') {
                title.textContent = 'é€‰æ‹©æ¯æ•°';
                content.innerHTML = `
                    <div class="flex gap-4">
                        <button onclick="setCups('single')" class="btn flex-1 ${cupsType === 'single' ? 'active' : ''}">å•æ¯</button>
                        <button onclick="setCups('double')" class="btn flex-1 ${cupsType === 'double' ? 'active' : ''}">åŒæ¯</button>
                    </div>
                `;
            } else {
                title.textContent = 'é€‰æ‹©æ°´æ¸©';
                content.innerHTML = `
                    <div class="flex gap-4">
                        <button onclick="setWater('room')" class="btn flex-1 ${waterTemp === 'room' ? 'active' : ''}">å¸¸æ¸©</button>
                        <button onclick="setWater('hot')" class="btn flex-1 ${waterTemp === 'hot' ? 'active' : ''}">çƒ­æ°´</button>
                    </div>
                `;
            }
            
            modal.classList.remove('hidden');
        }

        // è®¾ç½®æ¯æ•°
        function setCups(type) {
            cupsType = type;
            document.getElementById('cupsType').textContent = type === 'single' ? 'å•æ¯' : 'åŒæ¯';
            showExtractModal('cups'); // åˆ·æ–°æ˜¾ç¤º
        }

        // è®¾ç½®æ°´æ¸©
        function setWater(temp) {
            waterTemp = temp;
            document.getElementById('waterTemp').textContent = temp === 'room' ? 'å¸¸æ¸©' : 'çƒ­æ°´';
            showExtractModal('water'); // åˆ·æ–°æ˜¾ç¤º
        }

        // æ˜¾ç¤ºæ‰“æ³¡æ¨¡æ€æ¡†
        function showFoamModal(type) {
            const modal = document.getElementById('foamModal');
            const title = document.getElementById('foamModalTitle');
            const content = document.getElementById('foamModalContent');
            
            if (type === 'temp') {
                title.textContent = 'å¥¶æ³¡æ¸©åº¦';
                content.innerHTML = `
                    <div class="mb-4">
                        <input type="range" id="foamTempSlider" min="50" max="75" value="${foamTemp}" 
                               oninput="updateFoamTemp(this.value)" class="w-full">
                        <div class="flex justify-between text-xs text-neutral-500 mt-2">
                            <span>50Â°C</span>
                            <span>62Â°C</span>
                            <span>75Â°C</span>
                        </div>
                    </div>
                    <div class="text-center text-2xl orbitron text-amber-400">${foamTemp}Â°C</div>
                `;
                setTimeout(() => updateSliderBackground('foamTempSlider'), 0);
            } else {
                title.textContent = 'å¥¶æ³¡ä¸°åº¦';
                content.innerHTML = `
                    <div class="mb-4">
                        <input type="range" id="foamDensitySlider" min="1" max="3" value="${foamDensity}" 
                               oninput="updateFoamDensity(this.value)" class="w-full">
                        <div class="flex justify-between text-xs text-neutral-500 mt-2">
                            <span>è½»ç›ˆ</span>
                            <span>æ ‡å‡†</span>
                            <span>æµ“éƒ</span>
                        </div>
                    </div>
                `;
                setTimeout(() => updateSliderBackground('foamDensitySlider'), 0);
            }
            
            modal.classList.remove('hidden');
        }

        // æ›´æ–°æ‰“æ³¡æ¸©åº¦
        function updateFoamTemp(value) {
            foamTemp = parseInt(value);
            document.getElementById('foamTemp').textContent = foamTemp + 'Â°C';
            const display = document.querySelector('#foamModal .orbitron');
            if (display) display.textContent = foamTemp + 'Â°C';
            updateSliderBackground('foamTempSlider');
        }

        // æ›´æ–°æ‰“æ³¡ä¸°åº¦
        function updateFoamDensity(value) {
            foamDensity = parseInt(value);
            const levels = ['è½»ç›ˆ', 'æ ‡å‡†', 'æµ“éƒ'];
            document.getElementById('foamDensity').textContent = levels[foamDensity - 1];
            updateSliderBackground('foamDensitySlider');
        }

        // æ›´æ–°æ»‘å—èƒŒæ™¯
        function updateSliderBackground(sliderId) {
            const slider = document.getElementById(sliderId);
            if (!slider) return;
            const value = slider.value;
            const min = slider.min;
            const max = slider.max;
            const percentage = ((value - min) / (max - min)) * 100;
            slider.style.background = `linear-gradient(to right, #d4a574 0%, #d4a574 ${percentage}%, #2a2a2a ${percentage}%, #2a2a2a 100%)`;
        }

        // å…³é—­æ¨¡æ€æ¡†
        function closeModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
        }

        // åˆå§‹åŒ–æ»‘å—èƒŒæ™¯
        document.addEventListener('DOMContentLoaded', () => {
            updateSliderBackground('grindSlider');
        });
    </script>
</body>
</html>
